<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>MyBaby - Menu</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="accueil.css">
</head>
<body>
  <header>
    <div class="brand">MyBaby</div>
    <nav aria-label="Navigation principale">
      <!-- Carte -->
      <a id="openLocalMain" class="nav-btn" href="carte.html" title="Carte" aria-label="Carte">
        <svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 11.5L12 4l9 7.5" />
          <path d="M5 21h14a1 1 0 0 0 1-1V11" />
          <path d="M9 21V13h6v8" />
        </svg>
        Carte
      </a>

      <!-- Profil : ouvre profil.html -->
      <a id="profileLink" class="nav-btn" href="profil.html" title="Profil" aria-label="Profil">
        <svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
          <circle cx="12" cy="7" r="4" />
        </svg>
        Profil
      </a>

      <!-- Match -->
      <a class="nav-btn" href="match.html" title="Match" aria-label="Match">
        <svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
          <path d="M16 3l5 5" />
          <path d="M3 21l6-6" />
          <path d="M7 7l10 10" />
          <path d="M14 4l6 6" />
        </svg>
        Match
      </a>

      <!-- Classement -->
      <a class="nav-btn" href="stats.html" title="Classement" aria-label="Classement">
        <svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 20V10" />
          <path d="M18 20V4" />
          <path d="M6 20v-6" />
          <path d="M3 3h18" />
        </svg>
        Classement
      </a>
    </nav>
  </header>

  <main role="main" aria-labelledby="main-title">
    <section class="hero" aria-hidden="false">
      <img src="https://www.leblogdusport.fr/wp-content/uploads/2023/01/105g2OQvqUzoIu3NvNVK.jpeg" alt="Photo ambiance babyfoot" style="width:100%;height:auto;display:block" />
      <div class="slogan" role="region" aria-label="Slogan">
        <h1 id="main-title">Localise. Défie. Joue.</h1>
        <p>Le guide des babyfoots et des bars près de chez toi</p>
      </div>
    </section>

    <div class="hero-caption" aria-hidden="true">
      Utilisez la navigation en haut pour accéder aux différents onglets.
    </div>
  </main>

  <div class="logo-bottom-left" aria-hidden="true">
    <svg width="84" height="84" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="45" cy="45" r="40" fill="#bc1515" opacity="0.95"/>
      <text x="45" y="72" text-anchor="middle" fill="#eadec8" font-family="Arial Black, Arial, sans-serif" font-size="10" font-weight="bold">MYBABY</text>
    </svg>
  </div>

  <script>
    // si besoin, mettre à jour link "Profil" pour inclure returnTo (origine)
    (function(){
      const profileLink = document.getElementById('profileLink');
      if (!profileLink) return;
      try {
        const from = location.href || (location.pathname + (location.search || ''));
        profileLink.href = 'profil.html?returnTo=' + encodeURIComponent(from);
      } catch(e) {
        profileLink.href = 'profil.html';
      }
    })();
  </script>

  <!-- Script ajouté : ouvre classement.html quand on clique sur "Classement" (s'applique aussi aux autres pages si collé) -->
  <script>
  (function(){
    'use strict';
    const DEST = 'classement.html';
    const makeDest = () => DEST + '?returnTo=' + encodeURIComponent(location.href);

    function mentionsClassement(s){
      if (!s) return false;
      return String(s).toLowerCase().includes('classement') || String(s).toLowerCase().includes('statistique');
    }

    // 1) Met à jour les <a> visibles (pour que middle-click / copier l'adresse renvoient vers classement.html)
    try {
      document.querySelectorAll('a[href]').forEach(a=>{
        try {
          const txt = a.textContent || '';
          const title = a.getAttribute && (a.getAttribute('title') || '');
          const aria = a.getAttribute && (a.getAttribute('aria-label') || '');
          if (mentionsClassement(txt) || mentionsClassement(title) || mentionsClassement(aria)) {
            a.setAttribute('href', makeDest());
            a.dataset._classementFixed = '1';
          }
        } catch(e){}
      });
    } catch(e){}

    // 2) Délégation de clic : intercepte les clics sur éléments qui mentionnent "Classement"
    document.addEventListener('click', function(e){
      try {
        // respecter clics modificateurs (nouvel onglet etc.)
        if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) return;

        const el = e.target.closest && e.target.closest('a, button, [role="button"], [data-action]');
        if (!el) return;

        const txt = (el.textContent || '').trim();
        const title = el.getAttribute && (el.getAttribute('title') || '');
        const aria = el.getAttribute && (el.getAttribute('aria-label') || '');
        if (mentionsClassement(txt) || mentionsClassement(title) || mentionsClassement(aria)) {
          e.preventDefault();
          // si c'est une ancre, on met aussi son href à jour (pour cohérence)
          if (el.tagName === 'A') {
            try { el.setAttribute('href', makeDest()); } catch(_) {}
          }
          window.location.href = makeDest();
        }
      } catch(err){
        console.error(err);
      }
    }, true);
  })();
  </script>
</body>
</html>
    
